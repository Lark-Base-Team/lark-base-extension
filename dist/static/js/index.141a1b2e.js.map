{"version":3,"file":"static/js/index.141a1b2e.js","mappings":"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","sources":["webpack://text-formatter/webpack/runtime/chunk loaded","webpack://text-formatter/webpack/runtime/create fake namespace object","webpack://text-formatter/webpack/runtime/load script","data:text/javascript,window.__assetPrefix__ = '.';","webpack://text-formatter/./src/i18n/index.ts","webpack://text-formatter/./src/api/index.ts","webpack://text-formatter/./src/components/segment-render.tsx","webpack://text-formatter/./src/rx.ts","webpack://text-formatter/./src/components/result.tsx","webpack://text-formatter/./src/components/settings.tsx","webpack://text-formatter/./src/components/sider.tsx","webpack://text-formatter/./src/App.tsx","webpack://text-formatter/webpack/bootstrap","webpack://text-formatter/webpack/runtime/compat get default export","webpack://text-formatter/webpack/runtime/define property getters","webpack://text-formatter/webpack/runtime/ensure chunk","webpack://text-formatter/webpack/runtime/get javascript chunk filename","webpack://text-formatter/webpack/runtime/get mini-css chunk filename","webpack://text-formatter/webpack/runtime/global","webpack://text-formatter/webpack/runtime/hasOwnProperty shorthand","webpack://text-formatter/webpack/runtime/make namespace object","webpack://text-formatter/webpack/runtime/node module decorator","webpack://text-formatter/webpack/runtime/publicPath","webpack://text-formatter/webpack/runtime/jsonp chunk loading","webpack://text-formatter/webpack/runtime/nonce","webpack://text-formatter/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"text-formatter:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","window.__assetPrefix__ = '.';","import { bitable } from '@lark-base-open/js-sdk';\nimport * as i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\ni18n.use(initReactI18next).init({\n  resources: {\n    zh: {\n      translation: {\n        no_space_around_full_width_punctuation:\n          '全角标点与其他字符之间不加空格',\n        no_space_between_num_dp: '度数、百分比与数字之间不需要增加空格',\n        space_between_ch_en: '中文和英文、数字之间需要增加空格',\n        uniform_punctuation: '统一标点符号',\n        content: '问题内容',\n        view: '查看',\n        fix: '修复',\n        fix_all: '全部修复',\n        actions: '操作',\n        refresh: '刷新',\n        format_target: '排版范围',\n        format_rule: '排版规则',\n        text_field_only: '请选择文本类型的字段',\n        cell: '选中单元格',\n        field: '选中列',\n        fixing: '修复中',\n        fix_success: '修复成功',\n      },\n    },\n    en: {\n      translation: {\n        no_space_around_full_width_punctuation:\n          'No space around full-width punctuation',\n        no_space_between_num_dp:\n          'No space needed between numbers and degrees, percentages',\n        space_between_ch_en: 'Add space between Chinese and English, numbers',\n        uniform_punctuation: 'Uniform punctuation',\n        content: 'Content',\n        view: 'View',\n        fix: 'Fix',\n        fix_all: 'Fix All',\n        actions: 'Actions',\n        refresh: 'Refresh',\n        format_target: 'Formatting Scope',\n        format_rule: 'Formatting Rules',\n        text_field_only: 'Please select text type fields',\n        cell: 'Selected Cell',\n        field: 'Selected Column',\n        fixing: 'Fixing',\n        fix_success: 'Fix Successful',\n      },\n    },\n    ja: {\n      translation: {\n        no_space_around_full_width_punctuation:\n          '全角句読点の周りにスペースを入れない',\n        no_space_between_num_dp:\n          '数字と度数、パーセンテージの間にスペースは不要',\n        space_between_ch_en: '中国語と英語、数字の間にスペースを入れる',\n        uniform_punctuation: '句読点を統一する',\n        content: '内容',\n        view: '表示',\n        fix: '修正',\n        fix_all: 'すべて修正',\n        actions: '操作',\n        refresh: '更新',\n        format_target: '整形範囲',\n        format_rule: '整形ルール',\n        text_field_only: 'テキストフィールドのみを選択してください',\n        cell: '選択したセル',\n        field: '選択した列',\n        fixing: '修正中',\n        fix_success: '修正完了',\n      },\n    },\n  },\n  lng: 'zh',\n  fallbackLng: 'en',\n\n  interpolation: {\n    escapeValue: false,\n  },\n});\n\nbitable.bridge.getLanguage().then(i18n.changeLanguage).finally(console.error);\n\nexport default i18n;\n","import { wrap } from 'comlink';\n\nconst worker = new Worker(new URL('./wasm-worker.ts', import.meta.url));\n\nconst RUST_API = wrap<{\n  module: Promise<Record<'fix' | 'test', (param: string) => Promise<string>>>;\n}>(worker).module;\n\nexport interface Config {\n  no_space_around_full_width_punctuation?: boolean;\n  no_space_between_num_dp?: boolean;\n  space_between_ch_en?: boolean;\n  uniform_punctuation?: boolean;\n}\n\nexport const CONFIG_LIST = [\n  'space_between_ch_en',\n  'no_space_between_num_dp',\n  'uniform_punctuation',\n  'no_space_around_full_width_punctuation',\n];\n\nexport interface Param {\n  config: Config;\n  texts: string[];\n}\n\nexport interface FixResult {\n  config: (keyof Config)[];\n  result: string[];\n}\n\nexport type TestResultItem = Array<[number, number]> | null;\n\nexport interface TestResult {\n  config: (keyof Config)[];\n  result: Array<TestResultItem>[];\n}\n\nexport const DEFAULT_CONFIG: Config = {\n  no_space_around_full_width_punctuation: true,\n  no_space_between_num_dp: true,\n  space_between_ch_en: true,\n  uniform_punctuation: true,\n};\n\nexport const fix = async (param: Param) =>\n  JSON.parse(await (await RUST_API).fix(JSON.stringify(param))) as FixResult;\n\nexport const test = async (param: Param) =>\n  JSON.parse(await (await RUST_API).test(JSON.stringify(param))) as TestResult;\n","/* eslint-disable react/no-array-index-key */\nimport { FC, useMemo } from 'react';\nimport Delta from 'quill-delta';\nimport { Tooltip } from '@arco-design/web-react';\nimport { useTranslation } from 'react-i18next';\nimport { CONFIG_LIST, TestResultItem } from '@/api';\n\nexport const SegmentRender: FC<{\n  text: string;\n  rulesResult: TestResultItem[];\n  configs: string[];\n}> = ({ text, rulesResult, configs }) => {\n  const { t } = useTranslation();\n\n  const deltas = useMemo(\n    () =>\n      rulesResult\n        .flatMap(\n          (item, index) =>\n            item?.map(([start, end]) =>\n              new Delta().retain(start).retain(end - start, {\n                [CONFIG_LIST.indexOf(configs[index])]: true,\n              }),\n            ) || [],\n        )\n        .reduce(\n          (prev, curr) => prev.compose(curr),\n          new Delta([{ insert: text }]),\n        ),\n    [text, rulesResult, configs],\n  );\n\n  return (\n    <>\n      {deltas.map((op, index) => {\n        if (typeof op.insert === 'string') {\n          const rules = Object.keys(op.attributes || {})\n            .filter(key => op.attributes?.[key])\n            .map(key => Number(key));\n          if (rules.length) {\n            return (\n              <Tooltip\n                key={index}\n                content={rules.map(rule => t(CONFIG_LIST[rule])).join('\\n')}\n              >\n                <span className=\"bg-red-200 border-b-2 border-red-600 cursor-pointer\">\n                  {op.insert}\n                </span>\n              </Tooltip>\n            );\n          }\n          return <span key={index}>{op.insert}</span>;\n        }\n        return null;\n      })}\n    </>\n  );\n};\n","/* eslint-disable max-nested-callbacks */\nimport {\n  BehaviorSubject,\n  distinctUntilChanged,\n  from,\n  fromEventPattern,\n  startWith,\n  switchMap,\n  merge,\n  map,\n  Observable,\n  combineLatest,\n  catchError,\n  of,\n  share,\n  EMPTY,\n} from 'rxjs';\nimport {\n  bitable,\n  FieldType,\n  Selection,\n  ToastType,\n} from '@lark-base-open/js-sdk';\nimport isEqual from 'lodash-es/isEqual';\nimport pick from 'lodash-es/pick';\nimport isEmpty from 'lodash-es/isEmpty';\nimport { Config, DEFAULT_CONFIG } from './api';\nimport i18n from './i18n';\n\nexport type Mode = 'cell' | 'field';\n\nexport const mode$ = new BehaviorSubject<Mode>('cell');\nbitable.bridge\n  .getData('mode')\n  .then(mode => {\n    if (mode && !isEmpty(mode)) {\n      mode$.next(mode as Mode);\n    }\n  })\n  .catch(console.error)\n  .finally(() =>\n    mode$.pipe(distinctUntilChanged()).subscribe(mode => {\n      bitable.bridge.setData('mode', mode).catch(console.error);\n    }),\n  );\n\nexport const config$ = new BehaviorSubject<Config>(DEFAULT_CONFIG);\nbitable.bridge\n  .getData('config')\n  .then(config => {\n    if (config && !isEmpty(config)) {\n      config$.next(config as Config);\n    }\n  })\n  .catch(console.error)\n  .finally(() =>\n    config$.pipe(distinctUntilChanged(isEqual)).subscribe(config => {\n      bitable.bridge.setData('config', config).catch(console.error);\n    }),\n  );\n\nexport const userSelection$: Observable<Selection> = from(\n  bitable.base.getSelection(),\n).pipe(\n  switchMap(selection =>\n    fromEventPattern<Selection>(\n      handler => bitable.base.onSelectionChange(({ data }) => handler(data)),\n      (_, signal) => signal(),\n    ).pipe(startWith(selection)),\n  ),\n  distinctUntilChanged(isEqual),\n);\n\nexport const selection$ = userSelection$.pipe(\n  map(({ tableId }) => tableId),\n  distinctUntilChanged(),\n  switchMap(tableId =>\n    from(bitable.base.getTableById(tableId!)).pipe(\n      switchMap(table =>\n        merge([\n          fromEventPattern(\n            handler => table.onFieldAdd(handler),\n            (_, signal) => signal(),\n          ),\n          fromEventPattern(\n            handler => table.onFieldModify(handler),\n            (_, signal) => signal(),\n          ),\n          fromEventPattern(\n            handler => table.onFieldDelete(handler),\n            (_, signal) => signal(),\n          ),\n        ]).pipe(\n          switchMap(() =>\n            combineLatest([\n              from(table.getFieldList()),\n              userSelection$.pipe(\n                map(({ fieldId, recordId }) => ({ fieldId, recordId })),\n                distinctUntilChanged(),\n              ),\n            ]).pipe(\n              switchMap(([fieldList, { fieldId, recordId }]) => {\n                const field = fieldList.find(({ id }) => id === fieldId);\n                return field && fieldId && recordId\n                  ? from(field.getType()).pipe(\n                      map(type => ({\n                        field,\n                        table,\n                        fieldType: type,\n                        fieldId,\n                        recordId,\n                      })),\n                    )\n                  : EMPTY;\n              }),\n              startWith(null),\n            ),\n          ),\n          startWith(null),\n        ),\n      ),\n      catchError(() => of(null)),\n      startWith(null),\n    ),\n  ),\n  distinctUntilChanged((p, c) =>\n    isEqual(\n      pick(p, ['fieldType', 'fieldId', 'recordId']),\n      pick(c, ['fieldType', 'fieldId', 'recordId']),\n    ),\n  ),\n  share(),\n);\n\nselection$.subscribe(cell => {\n  if (cell && cell.fieldType !== FieldType.Text) {\n    bitable.ui.showToast({\n      toastType: ToastType.warning,\n      message: i18n.t('text_field_only'),\n    });\n  }\n});\n\nexport type SelectionInfo = NonNullable<\n  typeof selection$ extends Observable<infer T> ? T : never\n>;\n","import { useObservable, useObservableState } from 'observable-hooks';\nimport {\n  BehaviorSubject,\n  combineLatestWith,\n  concatMap,\n  delay,\n  filter,\n  from,\n  map,\n  of,\n  pairwise,\n  skip,\n  startWith,\n  switchMap,\n} from 'rxjs';\nimport {\n  FieldType,\n  IField,\n  checkers,\n  IOpenSegmentType,\n  bitable,\n  IOpenCellValue,\n  ToastType,\n} from '@lark-base-open/js-sdk';\nimport type { AsyncReturnType } from 'type-fest';\nimport { FC, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport groupBy from 'lodash-es/groupBy';\nimport sortBy from 'lodash-es/sortBy';\nimport identity from 'lodash-es/identity';\nimport chunk from 'lodash-es/chunk';\nimport { Table, Button, Message } from '@arco-design/web-react';\nimport { ColumnProps } from '@arco-design/web-react/es/Table';\nimport { SegmentRender } from './segment-render';\nimport { Mode, SelectionInfo, config$, mode$, selection$ } from '@/rx';\nimport { Config, fix, test } from '@/api';\nimport i18n from '@/i18n';\n\ntype FieldValue = AsyncReturnType<IField['getFieldValueList']>[number];\n\nfunction transformValues(values: FieldValue[]) {\n  return values.flatMap(({ value, record_id }) => {\n    if (value && checkers.isSegments(value)) {\n      return value\n        .map(({ type, text }, index) => ({ type, text, index }))\n        .filter(({ type }) => type === IOpenSegmentType.Text)\n        .map(({ text, index }) => ({ text, record_id, index }));\n    }\n    return [];\n  });\n}\n\nasync function formatTest(\n  selection: SelectionInfo,\n  mode: Mode,\n  config: Config,\n) {\n  refreshing$.next(true);\n  const startTime = Date.now();\n  const fieldValues = await (mode === 'cell'\n    ? selection.table\n        .getCellValue(selection.fieldId, selection.recordId)\n        .then(value => [{ record_id: selection.recordId, value }])\n    : selection.field.getFieldValueList(''));\n\n  const transformedValues = transformValues(fieldValues);\n\n  const testResult = await test({\n    config,\n    texts: transformedValues.map(({ text }) => text),\n  });\n\n  console.log(`formatTest: ${Date.now() - startTime}ms`);\n  refreshing$.next(false);\n  return {\n    config: testResult.config,\n    result: Object.entries(\n      groupBy(\n        testResult.result\n          .map((rulesResult, index) => ({\n            rulesResult,\n            ...transformedValues[index],\n          }))\n          .filter(({ rulesResult }) => rulesResult.some(identity)),\n        'record_id',\n      ),\n    ).map(\n      ([recordId, items]) =>\n        ({ recordId, segments: sortBy(items, 'index') } as const),\n    ),\n  };\n}\n\nasync function fixCells(\n  { table, field, fieldId }: SelectionInfo,\n  config: (keyof Config)[],\n  key: 'ALL' | string,\n) {\n  const close = Message.loading({\n    duration: 60 * 60 * 1000,\n    content: i18n.t('fixing'),\n  });\n  const fieldValues = await (key !== 'ALL'\n    ? table\n        .getCellValue(fieldId, key)\n        .then(value => [{ record_id: key, value }])\n    : field.getFieldValueList(''));\n  const transformedValues = transformValues(fieldValues);\n  const { result } = await fix({\n    config: Object.fromEntries(config.map(rule => [rule, true])) as Config,\n    texts: transformedValues.map(({ text }) => text),\n  });\n  const fieldValuesMap: Record<string, IOpenCellValue | undefined> =\n    Object.fromEntries(\n      fieldValues.map(({ record_id, value }) => [record_id, value]),\n    );\n  const updateMap: Record<string, boolean> = {};\n\n  result.forEach((fixed, index) => {\n    if (fixed !== transformedValues[index].text) {\n      const segments = fieldValuesMap[transformedValues[index].record_id];\n      if (segments && checkers.isSegments(segments)) {\n        segments[transformedValues[index].index].text = fixed;\n      }\n      updateMap[transformedValues[index].record_id] = true;\n    }\n  });\n  await Promise.all(\n    chunk(\n      Object.keys(updateMap).filter(\n        recordId => updateMap[recordId] && fieldValuesMap[recordId],\n      ),\n      5000,\n    ).map(recordIds =>\n      table.setRecords(\n        recordIds.map(recordId => ({\n          recordId,\n          fields: { [fieldId]: fieldValuesMap[recordId]! },\n        })),\n      ),\n    ),\n  );\n  close();\n  refresh$.next(Date.now());\n  bitable.ui.showToast({\n    toastType: ToastType.success,\n    message: i18n.t('fix_success'),\n  });\n}\n\ntype FormatTestResult = AsyncReturnType<typeof formatTest>;\n\nconst refresh$ = new BehaviorSubject<number>(0);\nconst refreshing$ = new BehaviorSubject<boolean>(false);\n\nexport const Result = () => {\n  return useObservableState(\n    useObservable(() =>\n      selection$.pipe(\n        skip(1),\n        filter(sel => Boolean(sel) && sel?.fieldType === FieldType.Text),\n        combineLatestWith(mode$, config$, refresh$),\n        switchMap(([sel, mode, config]) => {\n          return from(formatTest(sel!, mode, config)).pipe(\n            map(props => <ResultTable {...props} selection={sel!} />),\n          );\n        }),\n      ),\n    ),\n    null,\n  );\n};\n\nconst ResultTable: FC<FormatTestResult & { selection: SelectionInfo }> = ({\n  result,\n  config,\n  selection,\n}) => {\n  const { t } = useTranslation();\n  const refreshing = useObservableState(\n    useObservable(() =>\n      refreshing$.pipe(\n        startWith(false),\n        pairwise(),\n        concatMap(([prev, curr]) => {\n          return prev && !curr ? of(false).pipe(delay(300)) : of(curr);\n        }),\n      ),\n    ),\n    false,\n  );\n\n  const columns = useMemo(\n    () =>\n      [\n        {\n          title: t('content'),\n          dataIndex: 'segments',\n          render: (_, item) => (\n            <div className=\"whitespace-pre-wrap break-all\">\n              {item.segments.map(segment => (\n                <SegmentRender\n                  {...segment}\n                  configs={config}\n                  key={segment.index}\n                />\n              ))}\n            </div>\n          ),\n        },\n        {\n          title: t('actions'),\n          render: (_, item) => (\n            <div className=\"whitespace-nowrap\">\n              <Button\n                size=\"mini\"\n                className=\"mr-2\"\n                onClick={() =>\n                  bitable.ui.showRecordDetailDialog({\n                    tableId: selection.table.id,\n                    recordId: item.recordId,\n                  })\n                }\n              >\n                {t('view')}\n              </Button>\n              <Button\n                size=\"mini\"\n                type=\"primary\"\n                onClick={() => fixCells(selection, config, item.recordId)}\n              >\n                {t('fix')}\n              </Button>\n            </div>\n          ),\n        },\n      ] as ColumnProps<FormatTestResult['result'][number]>[],\n    [t, config, selection],\n  );\n\n  return (\n    <>\n      <div className=\"gap-2 flex justify-end mb-3\">\n        <Button\n          onClick={() => refresh$.next(Date.now())}\n          loading={refreshing}\n          disabled={refreshing}\n        >\n          {t('refresh')}\n        </Button>\n        <Button\n          type=\"primary\"\n          onClick={() => fixCells(selection, config, 'ALL')}\n        >\n          {t('fix_all')}\n        </Button>\n      </div>\n      <Table data={result} columns={columns} rowKey=\"recordId\" />\n    </>\n  );\n};\n","import { useObservableEagerState } from 'observable-hooks';\nimport { useTranslation } from 'react-i18next';\nimport { Radio, Checkbox, Form } from '@arco-design/web-react';\nimport { Mode, config$, mode$ } from '@/rx';\nimport { CONFIG_LIST, Config } from '@/api';\n\nconst CheckboxGroup = Checkbox.Group;\n\nconst RadioGroup = Radio.Group;\n\nexport const Settings = () => {\n  const mode = useObservableEagerState(mode$);\n  const config = useObservableEagerState(config$);\n  const { t } = useTranslation();\n  return (\n    <Form>\n      <Form.Item label={t('format_target')}>\n        <RadioGroup\n          value={mode}\n          onChange={mode => mode$.next(mode as Mode)}\n          className=\"pr-4\"\n          direction=\"vertical\"\n        >\n          <Radio value=\"cell\">{t('cell')}</Radio>\n          <Radio value=\"field\">{t('field')}</Radio>\n        </RadioGroup>\n      </Form.Item>\n      <Form.Item label={t('format_rule')}>\n        <CheckboxGroup\n          options={CONFIG_LIST.map((rule, i) => ({\n            value: rule,\n            label: `${i + 1}. ${t(rule)}`,\n          }))}\n          value={Object.keys(config).filter(key => config[key as keyof Config])}\n          onChange={rules =>\n            config$.next(\n              Object.fromEntries(rules.map(rule => [rule, true])) as Config,\n            )\n          }\n          direction=\"vertical\"\n        />\n      </Form.Item>\n    </Form>\n  );\n};\n","import { Result } from './result';\nimport { Settings } from './settings';\n\nexport const Sider = () => {\n  return (\n    <>\n      <div className=\"py-4 px-6\">\n        <Settings />\n        <Result />\n      </div>\n    </>\n  );\n};\n","import '@/i18n';\nimport { Sider } from '@/components/sider';\nimport './index.css';\n\nexport default () => {\n  return (\n    <div>\n      <Sider />\n    </div>\n  );\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/async/\" + chunkId + \".\" + {\"533\":\"e10b2f4a\",\"976\":\"8c5a84a2\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"./\";","__webpack_require__.b = (typeof document !== 'undefined' && document.baseURI) || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktext_formatter\"] = self[\"webpackChunktext_formatter\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [914], () => (__webpack_require__(82433)))\n__webpack_require__.O(undefined, [914], () => (__webpack_require__(8408)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [914], () => (__webpack_require__(78025)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","window","__assetPrefix__","i18n","initReactI18next","init","resources","zh","translation","no_space_around_full_width_punctuation","no_space_between_num_dp","space_between_ch_en","uniform_punctuation","content","view","fix","fix_all","actions","refresh","format_target","format_rule","text_field_only","cell","field","fixing","fix_success","en","ja","lng","fallbackLng","interpolation","escapeValue","bitable","bridge","getLanguage","then","finally","console","error","worker","Worker","URL","RUST_API","wrap","module","CONFIG_LIST","_ref","_asyncToGenerator","param","JSON","parse","stringify","_x","apply","arguments","test","_ref2","_x2","SegmentRender","text","rulesResult","configs","t","useTranslation","deltas","useMemo","flatMap","item","index","map","start","end","Delta","retain","indexOf","reduce","prev","curr","compose","insert","_jsx","_Fragment","children","op","rules","Object","keys","attributes","filter","key","_op$attributes","Number","length","_Tooltip","rule","join","className","mode$","BehaviorSubject","getData","mode","isEmpty","next","catch","pipe","distinctUntilChanged","subscribe","setData","config$","config","isEqual","userSelection$","from","base","getSelection","switchMap","selection","fromEventPattern","handler","onSelectionChange","data","_","signal","startWith","selection$","tableId","getTableById","table","merge","onFieldAdd","onFieldModify","onFieldDelete","combineLatest","getFieldList","fieldId","recordId","fieldList","find","id","getType","type","fieldType","EMPTY","catchError","of","p","c","pick","share","transformValues","values","value","record_id","checkers","isSegments","IOpenSegmentType","Text","_formatTest","refreshing$","startTime","Date","now","transformedValues","getCellValue","getFieldValueList","testResult","texts","log","result","entries","groupBy","_objectSpread","some","identity","items","segments","sortBy","fixCells","_x4","_x5","_x6","_fixCells","close","_Message","loading","duration","fieldValues","fromEntries","fieldValuesMap","updateMap","forEach","fixed","Promise","all","chunk","recordIds","setRecords","fields","refresh$","ui","showToast","toastType","ToastType","success","message","FieldType","warning","Result","useObservableState","useObservable","skip","sel","Boolean","combineLatestWith","_x3","formatTest","props","ResultTable","refreshing","pairwise","concatMap","delay","columns","title","dataIndex","render","segment","_createElement","_jsxs","_Button","size","onClick","showRecordDetailDialog","disabled","_Table","rowKey","CheckboxGroup","_Checkbox","Group","RadioGroup","_Radio","Settings","useObservableEagerState","_Form","Item","label","onChange","direction","options","i","Sider","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","loaded","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","getPrototypeOf","obj","this","ns","create","def","current","getOwnPropertyNames","definition","o","defineProperty","enumerable","get","f","e","chunkId","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","l","url","done","push","script","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","nc","setAttribute","src","onScriptComplete","event","onerror","onload","clearTimeout","timeout","doneFns","parentNode","removeChild","setTimeout","bind","target","head","appendChild","Symbol","toStringTag","nmd","paths","b","baseURI","self","location","href","installedChunks","installedChunkData","promise","resolve","reject","Error","errorType","realSrc","name","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}